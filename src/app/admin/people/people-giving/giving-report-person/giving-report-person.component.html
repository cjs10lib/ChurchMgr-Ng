
<mat-card>

  <!-- <mat-card-header>
    <h3 sub-header>Giving Records</h3>
  </mat-card-header> -->

  <mat-card-content>
  
    <div class="form-field-container">
      <!-- Data Table -->
      <mat-form-field>
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Record Search...">
      </mat-form-field>
        
      <!-- <div class="mat-elevation-z8"> -->
      <div>
        <table mat-table [dataSource]="dataSource" matSort>
              
          <!-- Amount Column -->
          <ng-container matColumnDef="amount">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Amount </th>
            <td mat-cell *matCellDef="let row"> {{row.data.amount | number}} </td>
          </ng-container>
      
          <!-- Date Column -->
          <ng-container matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
            <td mat-cell *matCellDef="let row"> {{row.givingDate.toDate() | date: 'mediumDate'}} </td>
          </ng-container>
      
          <!-- Category Column -->
          <ng-container matColumnDef="category">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Category </th>
            <td mat-cell *matCellDef="let row"> {{getCategoryDetails(row.data.category)}} </td>
          </ng-container>
    
          <!-- Notes Column -->
          <ng-container matColumnDef="notes">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Details </th>
            <td mat-cell *matCellDef="let row"> {{row.data.notes}} </td>
          </ng-container>
    
          <!-- Created Column -->
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> </th>
            <td mat-cell *matCellDef="let row"> 
              <button mat-icon-button color="primary" (click)="viewGiving(row.Id)">
                <mat-icon>search</mat-icon> &nbsp;
                <!-- <span>View</span> -->
              </button>
            </td>
          </ng-container>
      
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;">
          </tr>
        </table>
      
        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
      </div>
      
    </div>

  </mat-card-content>
  
  <!-- <div class="spc-10"></div> -->
  
  <mat-card-footer>

    <p mat-subheader>
      <mat-icon color="primary">report</mat-icon> &nbsp;
      Total amount &nbsp; <strong>({{ givingTotalAmount | currency }})</strong>.
    </p>
    
    <ul>
      <li *ngFor="let sum of givingSummary">
        {{ getCategoryDetails(sum.category) }}: &nbsp;
        <strong>{{ sum.totalAmount | currency }}</strong> 
      </li>
    </ul>

  </mat-card-footer>

</mat-card>


